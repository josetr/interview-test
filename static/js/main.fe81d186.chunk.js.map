{"version":3,"sources":["reducer.js","store.js","App.jsx","actions.js","index.js"],"names":["initialState","teachers","students","rootReducer","state","arguments","length","undefined","action","type","Object","objectSpread","concat","toConsumableArray","payload","map","student","id","teacher","teacherId","studentId","store","createStore","ConnectedApp","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleNewTeacher","event","preventDefault","newTeacherName","uuidv1","addTeacher","name","setState","handleNewStudent","newStudentName","addStudent","handleUpdateStudent","s","updatingStudent","updateStudent","updateStudentName","handleAssignStudent","assignStudentToTeacher","assignStudentTo","_this2","react_default","a","createElement","className","key","currentStudent","onChange","e","target","value","selected","onClick","onSubmit","Component","App","connect","dispatch","updates","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fe81d186.chunk.js","sourcesContent":["const initialState = {\r\n  teachers: [],\r\n  students: [],\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"ADD_TEACHER\":\r\n      return { ...state, teachers: [...state.teachers, action.payload] };\r\n    case \"ADD_STUDENT\":\r\n      return { ...state, students: [...state.students, action.payload] };\r\n    case \"UPDATE_STUDENT\":\r\n      return {\r\n        ...state, students: state.students.map(student => {\r\n          if (student.id === action.payload.id)\r\n            return action.payload;\r\n          return student;\r\n        })\r\n      }\r\n    case \"ASSIGN_STUDENT_TO_TEACHER\":\r\n      return {\r\n        ...state, teachers: state.teachers.map(teacher => {\r\n          if (teacher.id === action.payload.teacherId)\r\n            return {...teacher, students: [...teacher.students, action.payload.studentId]};\r\n          return teacher;\r\n        })\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default rootReducer;","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducer.js\";\r\nconst store = createStore(rootReducer);\r\nexport default store;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { connect } from \"react-redux\";\r\nimport { addStudent, addTeacher, assignStudentToTeacher, updateStudent } from './actions';\r\nimport uuidv1 from \"uuid\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    teachers: state.teachers,\r\n    students: state.students,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addTeacher: teacher => dispatch(addTeacher(teacher)),\r\n  addStudent: student => dispatch(addStudent(student)),\r\n  updateStudent: updates => dispatch(updateStudent(updates)),\r\n  assignStudentToTeacher: (teacherId, studentId) => dispatch(assignStudentToTeacher({ teacherId, studentId }))\r\n});\r\n\r\nclass ConnectedApp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      newTeacherName: '',\r\n      newStudentName: '',\r\n      updateStudentName: '',\r\n      updatingStudent: null,\r\n      assignStudentTo: null,\r\n    };\r\n  }\r\n\r\n  handleNewTeacher = (event) => {\r\n    event.preventDefault();\r\n    const { newTeacherName } = this.state;\r\n    const id = uuidv1();\r\n    this.props.addTeacher({ name: newTeacherName, id, students: [] });\r\n    this.setState({ newTeacherName: \"\" });\r\n  }\r\n\r\n  handleNewStudent = (event) => {\r\n    event.preventDefault();\r\n    const { newStudentName } = this.state;\r\n    const id = uuidv1();\r\n    this.props.addStudent({ name: newStudentName, id });\r\n    this.setState({ newStudentName: \"\" });\r\n  }\r\n\r\n  handleUpdateStudent = (s, name) => {\r\n    const isUpdating = this.state.updatingStudent === s.id;\r\n    if (isUpdating) {\r\n      this.props.updateStudent({ name, id: s.id });\r\n      this.setState({ updatingStudent: null, updateStudentName: '' });\r\n      return;\r\n    }\r\n\r\n    this.setState({ updatingStudent: s.id, updateStudentName: s.name });\r\n  }\r\n\r\n  handleAssignStudent = (teacherId, studentId) => {\r\n    this.props.assignStudentToTeacher(teacherId, studentId);\r\n    this.setState({ assignStudentTo: null });\r\n  }\r\n\r\n  render() {\r\n    const teachers = this.props.teachers;\r\n    const students = this.props.students;\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <div className=\"teachers\">\r\n          <h1>Teachers</h1>\r\n          <table>\r\n            <tbody>\r\n            <tr>\r\n              <td>Id</td>\r\n              <td>Name</td>\r\n              <td>Students</td>\r\n            </tr>\r\n            {teachers.map(teacher => <tr key={teacher.id}>\r\n              <td>{teacher.id}</td>\r\n              <td>{teacher.name}</td>\r\n              <td>\r\n                <ul>\r\n                  {teacher.students.map(student => <li key={student.id}>{students.map(currentStudent => student === currentStudent.id ? currentStudent.name : '')}</li>)}\r\n                  {this.state.assignStudentTo === teacher.id ?\r\n                    <select onChange={e => this.handleAssignStudent(teacher.id, e.target.value)}>\r\n                      <option selected=\"selected\"></option>\r\n                      {students.map(student => <option key={student.id} value={student.id}>{student.name}</option>)}\r\n                    </select>\r\n                    : null}\r\n                  <button type=\"button\" className=\"btn\"\r\n                          onClick={() => this.setState({ assignStudentTo: teacher.id })}>\r\n                    Assign Student\r\n                  </button>\r\n                </ul>\r\n              </td>\r\n            </tr>)}\r\n            </tbody>\r\n          </table>\r\n          <form onSubmit={this.handleNewTeacher}>\r\n            <div>\r\n              <label>New Teacher</label>\r\n              <input type=\"text\" value={this.state.newTeacherName}\r\n                     onChange={e => this.setState({ newTeacherName: e.target.value })}/>\r\n              <button type=\"submit\" className=\"btn\">\r\n                Add Teacher\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"students\">\r\n          <h1>Students</h1>\r\n          <table>\r\n            <tbody>\r\n            <tr>\r\n              <td>Id</td>\r\n              <td>Name</td>\r\n              <td></td>\r\n            </tr>\r\n            {students.map(student => <tr key={student.id}>\r\n              <td>{student.id}</td>\r\n              <td>{this.state.updatingStudent === student.id ? <input type=\"text\" value={this.state.updateStudentName}\r\n                                                                onChange={e => this.setState({ updateStudentName: e.target.value })}/> : student.name}</td>\r\n              <td>\r\n                <button type=\"button\" className=\"btn\"\r\n                        onClick={e => this.handleUpdateStudent(student, this.state.updateStudentName)}>\r\n                  {this.state.updatingStudent !== student.id ? \"Update Student\" : \"Done\"}\r\n                </button>\r\n              </td>\r\n            </tr>)}\r\n            </tbody>\r\n          </table>\r\n          <form onSubmit={this.handleNewStudent}>\r\n            <div>\r\n              <label>New Student</label>\r\n              <input type=\"text\" value={this.state.newStudentName}\r\n                     onChange={e => this.setState({ newStudentName: e.target.value })}/>\r\n              <button type=\"submit\" className=\"btn\">\r\n                Add Student\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\r\n\r\nexport default App;\r\n","export function addTeacher(teacher) {\r\n  return { type: \"ADD_TEACHER\", payload: teacher }\r\n}\r\nexport function addStudent(student) {\r\n  return { type: \"ADD_STUDENT\", payload: student }\r\n}\r\nexport function updateStudent(payload) {\r\n  return { type: \"UPDATE_STUDENT\", payload }\r\n}\r\nexport function assignStudentToTeacher(payload) {\r\n  return { type: \"ASSIGN_STUDENT_TO_TEACHER\", payload }\r\n}\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport App from \"./App.jsx\";\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App/>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}